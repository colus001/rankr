{"version":3,"file":"/Users/endlessdev/Workspace/rankr-org/database/index.ts","sources":["/Users/endlessdev/Workspace/rankr-org/database/index.ts"],"names":[],"mappings":";;AAAA,IAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;AAEjC,MAAM,CAAC,MAAM,EAAE,CAAC;AAEH,QAAA,SAAS,GAAG,OAAO,CAAC,WAAW,CAAC,CAAC;AAEjC,QAAA,SAAS,GAAG,IAAI,iBAAS,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE;IAC1G,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;IACzB,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,UAAU;IAC/B,UAAU,EAAE,KAAK;CACpB,CAAC,CAAC;AAEH,IAAI,gBAAgB,GAAG;IACnB,MAAM,CAAC,iBAAS,CAAC,YAAY,EAAE;SAC1B,IAAI,CAAC;QACF,OAAO,CAAC,GAAG,CAAC,+CAA+C,CAAC,CAAC;IACjE,CAAC,CAAC;SACD,KAAK,CAAC,UAAA,GAAG;QACN,OAAO,CAAC,GAAG,CAAC,8DAA8D,EAAE,GAAG,CAAC,CAAC;QACjF,UAAU,CAAC,gBAAgB,EAAE,IAAI,CAAC,CAAC;IACvC,CAAC,CAAC,CAAC;AACX,CAAC,CAAC;AAEF,gBAAgB,EAAE,CAAC","sourcesContent":["const dotenv = require('dotenv');\n\ndotenv.config();\n\nexport const Sequelize = require('sequelize');\n\nexport const sequelize = new Sequelize(process.env.DB_DATABASE, process.env.DB_USER, process.env.DB_PASSWORD, {\n    host: process.env.DB_HOST,\n    dialect: process.env.DB_DIALECT,\n    timestamps: false,\n});\n\nlet connectWithRetry = () => {\n    return sequelize.authenticate()\n        .then(() => {\n            console.log('Connection has been established successfully.');\n        })\n        .catch(err => {\n            console.log('Failed to connect to database on startup - retrying in 5 sec', err);\n            setTimeout(connectWithRetry, 5000);\n        });\n};\n\nconnectWithRetry();"]}